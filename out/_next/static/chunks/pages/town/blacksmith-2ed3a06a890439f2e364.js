(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[206],{21263:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return he}});var a=n(70885),r=n(15861),s=n(87757),i=n.n(s),o=n(67294),c=n(2593),l=n(21046),d=n(93226),u=n(64260),x=n(25675),p=n(94775),m=n(15324),h=n(96883),v=n(21742),f=n(87046),b=n(50427),g=n(77616),k=n(15722),N=n(61583),j=n(20513),y=n(85893),E=n(34155);function w(e){var t=e.img,n=e.name,a=e.cost,r=e.onClick,s=e.children,i=e.noHover;return(0,y.jsxs)("div",{className:"w-full md:w-60 border-black dark:border-dark-100 border-4 p-4 flex justify-center items-center flex-col ".concat(i?"":"group hover:bg-gray-principal dark:hover:bg-dark-100"," transition-colors cursor-pointer relative mb-4 md:mb-0"),onClick:r,children:[(0,y.jsx)(x.default,{src:t,quality:100,width:240,height:240}),(0,y.jsx)("p",{className:"text-xs justify-center text-center group-hover:underline",children:n}),(0,y.jsx)("p",{className:"text-xss justify-center text-center mt-1",children:"Upgrade for ".concat(a," XP")}),s]})}var O=function(e){var t=e.shouldDisplay,n=e.adventurers,a=e.router,r=e.adventurersCount,s=(0,f.ZP)().provider,i=(0,b.ZP)().updateRarity;if(!t)return null;var o=Object.values(n).map((function(e){return null===e||void 0===e?void 0:e.inventory[1].map((function(t,n){return(0,y.jsx)(w,{onClick:function(){(0,k.$X)({provider:s,contractAddress:E.env.DUNGEON_THE_FOREST_ADDR,tokenID:t.treasureId.toString(),adventurerID:e.tokenID,treasureName:t.itemName,xpRequired:g.fi(String((0,N.x)(t.level)))},(function(t){var n=t.error;if(n)return console.error(n);i(e.tokenID),a.push("/town/blacksmith?tab=restore")}))},noHover:Number(e.xp)<(0,N.x)(t.level),img:j[t.itemName].img,name:t.itemName,cost:(0,N.x)(t.level),children:Number(e.xp)<(0,N.x)(t.level)?(0,y.jsx)("div",{className:"absolute inset-0 backdrop-blur-3xl bg-black bg-opacity-60 cursor-not-allowed flex justify-center items-center text-center p-6",children:(0,y.jsx)("p",{className:"text-white",children:"YOU NEED MORE XP"})}):null},"".concat(t.id,"_").concat(n))}))}));return(0,y.jsxs)("div",{className:"flex flex-col w-full",children:[(0,y.jsx)("div",{className:"pb-10",children:0!==r?0===o.length?(0,y.jsx)("div",{children:(0,y.jsx)("p",{className:"text-xs",children:"> YOU HAVE NO ARTIFACT TO UPGRADE"})}):(0,y.jsx)("div",{children:(0,y.jsx)("p",{className:"text-xs",children:"> WHICH ARTIFACT WOULD YOU LIKE TO UPGRADE?"})}):(0,y.jsx)("div",{children:(0,y.jsx)("p",{className:"text-xs",children:"> You first need to recruit an adventurer !"})})}),(0,y.jsx)("div",{children:(0,y.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 md:gap-8",children:o})})]})},T=n(42982),S=n(4942),A=n(52503),R=n(84823),C=n(69125),I=[{inputs:[{internalType:"address",name:"_rarityAddr",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"summonerId",type:"uint256"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"ResearchStarted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"treasureId",type:"uint256"}],name:"TreasureDiscovered",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"treasureId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"summonerId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newLevel",type:"uint256"}],name:"TreasureLevelUp",type:"event"},{inputs:[],name:"_tokenIdCounter",outputs:[{internalType:"uint256",name:"_value",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"summonerId",type:"uint256"}],name:"discover",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"summonerId",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"levelUp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"rarityContract",outputs:[{internalType:"contract IRarity",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"summonerId",type:"uint256"},{internalType:"uint256",name:"timeInDays",type:"uint256"}],name:"startResearch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"treasure",outputs:[{internalType:"string",name:"_itemName",type:"string"},{internalType:"uint256",name:"_magic",type:"uint256"},{internalType:"uint256",name:"_level",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"currentLevel",type:"uint256"}],name:"xpRequired",outputs:[{internalType:"uint256",name:"xpToNextLevel",type:"uint256"}],stateMutability:"pure",type:"function"}],D=n(34155);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,S.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e){return H.apply(this,arguments)}function H(){return(H=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new u.zt,e.next=3,n.init(t);case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){var t=e.img,n=e.name,a=e.level,r=e.magic,s=e.onClick;return(0,y.jsxs)("div",{className:"w-full md:w-60 border-black dark:border-dark-100 border-4 p-4 flex justify-center items-center flex-col group hover:bg-gray-principal dark:hover:bg-dark-100 transition-colors cursor-pointer relative mb-4 md:mb-0",onClick:s,children:[(0,y.jsx)(x.default,{src:t,quality:100,width:240,height:240}),(0,y.jsx)("p",{className:"text-xs justify-center text-center group-hover:underline",children:n}),(0,y.jsx)("p",{className:"text-xss justify-center text-center mt-1",children:"LVL ".concat(a," - MAGIC ").concat(r)})]})}var _=function(e){var t=e.shouldDisplay,n=e.adventurers,a=e.adventurersCount,s=(0,o.useState)([]),c=s[0],l=s[1],x=(0,o.useState)(!1),p=x[0],m=x[1],h=(0,o.useState)(n[0].tokenID),v=h[0],g=h[1],N=(0,o.useState)(0)[1],E=(0,f.ZP)(),w=E.address,O=E.provider,L=E.chainID,H=(0,b.ZP)().updateRarity,_="".concat(D.env.NETWORK_API_URL,"\n\t\t?module=account\n\t\t&action=tokennfttx\n\t\t&contractaddress=").concat(D.env.DUNGEON_THE_FOREST_V1_ADDR,"\n\t\t&address=").concat(w,"\n\t\t&apikey=").concat(D.env.NETWORK_KEY),Y=(0,A.ZP)(_,R._i,{revalidateOnFocus:!1,revalidateOnReconnect:!1}).data;function Z(e){return[new u.CH(D.env.DUNGEON_THE_FOREST_V1_ADDR,I).treasure(e)]}function P(e){return W.apply(this,arguments)}function W(){return(W=(0,r.Z)(i().mark((function e(t){var n,a,r,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1337!==Number(L)){e.next=12;break}return e.next=3,M(new d.r("http://localhost:8545"));case 3:return(n=e.sent).multicallAddress=D.env.MULTICALL_ADDRESS,n.multicall2Address=D.env.MULTICALL2_ADDRESS,e.next=8,n.all(t);case 8:return a=e.sent,e.abrupt("return",a);case 12:return e.next=14,M(O);case 14:return r=e.sent,e.next=17,r.all(t);case 17:return s=e.sent,e.abrupt("return",s);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){return V.apply(this,arguments)}function V(){return(V=(0,r.Z)(i().mark((function e(t){var n,a,r,s,o,c,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=w,a={},t.forEach((function(e){(0,R.Hc)(e.to)===(0,R.Hc)(n)?a[e.tokenID]=F(F({},e),{},{isOwner:!0}):a[e.tokenID]=F(F({},e),{},{isOwner:!1})})),r=[],(s=Object.values(a).filter((function(e){return e.isOwner}))).forEach((function(e){r.push.apply(r,(0,T.Z)(Z(e.tokenID)))})),e.next=8,P(r);case 8:o=e.sent,c=0;case 10:if(!(c<s.length)){e.next=18;break}return l=s[c],e.next=14,K(l.tokenID,o[c]);case 14:m(!0);case 15:c++,e.next=10;break;case 18:m(!0);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e,t){var n=t,a=n._itemName,r=n._magic,s=n._level;a&&(l((function(t){return F(F({},t),{},(0,S.Z)({},e,{tokenID:e,itemName:a,magic:r,level:s}))})),N((function(e){return e+1})))}function B(){return(B=(0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R._i)("".concat(D.env.NETWORK_API_URL,"\n\t\t\t?module=account\n\t\t\t&action=tokennfttx\n\t\t\t&contractaddress=").concat(D.env.DUNGEON_THE_FOREST_V1_ADDR,"\n\t\t\t&address=").concat(w,"\n\t\t\t&apikey=").concat(D.env.NETWORK_KEY));case 2:t=e.sent,G(t.result||[]);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,o.useEffect)((function(){if(null!==Y&&void 0!==Y&&Y.result){if(0===(null===Y||void 0===Y?void 0:Y.status))return setTimeout((function(){return function(){return B.apply(this,arguments)}()}),100);G((null===Y||void 0===Y?void 0:Y.result)||[])}}),[Y]),t?0===a?(0,y.jsx)("div",{className:"flex flex-col w-full",children:(0,y.jsx)("p",{className:"text-xs",children:"> You first need to recruit an adventurer !"})}):p?0===Object.values(c).length?(0,y.jsx)("div",{className:"flex flex-col w-full",children:(0,y.jsx)("p",{className:"text-xs",children:"> THERE IS NOTHING TO RESTORE"})}):(0,y.jsxs)("div",{className:"flex flex-col w-full",children:[(0,y.jsxs)("div",{className:"flex flex-row w-full items-center pt-8 mb-4 pl-1",children:[(0,y.jsx)("label",{className:"text-xs",children:"Restore for: "}),(0,y.jsx)("select",{onChange:function(e){return g(e.target.value)},className:"bg-opacity-0 bg-black ml-4 border-2 border-black dark:border-dark-100 focus:outline-none text-xs uppercase",children:null===n||void 0===n?void 0:n.map((function(e){return(0,y.jsx)("option",{value:e.tokenID,children:"".concat(e.tokenID," - ").concat(C.Z[e.class].name," level ").concat(e.level)},e.tokenID)}))})]}),(0,y.jsx)("div",{className:"relative",children:(0,y.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 md:gap-8",children:Object.values(c).filter((function(e){return!e.isMigrated})).map((function(e,t){var n;return(0,y.jsx)(U,{onClick:function(){(0,k.p$)({provider:O,contractAddress:D.env.DUNGEON_THE_FOREST_ADDR,tokenID:e.tokenID,adventurerID:v,treasureName:e.itemName},(function(t){var n=t.error;if(n)return console.error(n);H(v),l((function(t){return F(F({},t),{},(0,S.Z)({},e.tokenID,F(F({},t[e.tokenID]),{},{isMigrated:!0})))}))}))},img:(null===(n=j[e.itemName])||void 0===n?void 0:n.img)||"",name:e.itemName,level:e.level,magic:e.magic},"".concat(e.id,"_").concat(t))}))})})]}):(0,y.jsx)("div",{className:"flex flex-col w-full relative h-36",children:(0,y.jsxs)("div",{className:"absolute mt-10 inset-0 backdrop-blur-3xl bg-opacity-40 cursor-not-allowed",children:[(0,y.jsx)("div",{className:"loader"}),(0,y.jsx)("div",{className:"absolute inset-0 mt-32 flex justify-center items-center",children:(0,y.jsx)("p",{className:"center-text text-white z-40",children:"Retrieving your adventurers..."})})]})}):null},Y=n(96519),Z=n(90516),P=n(40851);var W=function(e){var t=e.children,n=e.className,a=e.onClick,r=e.backgroundColor,s=void 0===r?"bg-white dark:bg-dark-600 hover:bg-gray-principal dark:hover:bg-dark-400":r,i="absolute bg-black dark:bg-dark-100";return(0,y.jsxs)("div",{className:"relative ".concat(n," w-full h-10 flex justify-center items-center text-regular text-black dark:text-white"),onClick:a,children:[t,(0,y.jsx)("div",{className:"".concat(i," h-1 top-0 left-1 right-1")}),(0,y.jsx)("div",{className:"".concat(i," h-1 w-1 top-1 left-0")}),(0,y.jsx)("div",{className:"".concat(i," h-1 w-1 top-1 right-0")}),(0,y.jsx)("div",{className:"".concat(i," w-1 top-2 bottom-2 left-0")}),(0,y.jsx)("div",{className:"".concat(i," w-1 top-2 bottom-2 right-0")}),(0,y.jsx)("div",{className:"".concat(i," h-1 bottom-0 left-1 right-1")}),(0,y.jsx)("div",{className:"".concat(i," h-1 w-1 top-0 right-0")}),(0,y.jsx)("div",{className:"".concat(i," h-1 w-1 top-0 left-0")}),(0,y.jsx)("div",{className:"".concat(i," h-1 w-1 bottom-0 right-0")}),(0,y.jsx)("div",{className:"".concat(i," h-1 w-1 bottom-0 left-0")}),(0,y.jsx)("div",{className:"".concat(i," h-1 w-1 top-1 left-2")}),(0,y.jsx)("div",{className:"".concat(i," h-1 w-1 top-1 right-2")}),(0,y.jsx)("div",{className:"".concat(i," h-1 w-1 top-2 left-1")}),(0,y.jsx)("div",{className:"".concat(i," h-1 w-1 top-2 right-1")}),(0,y.jsx)("div",{className:"".concat(i," h-1 w-1 bottom-1 left-2")}),(0,y.jsx)("div",{className:"".concat(i," h-1 w-1 bottom-1 right-2")}),(0,y.jsx)("div",{className:"".concat(i," h-1 w-1 bottom-2 left-1")}),(0,y.jsx)("div",{className:"".concat(i," h-1 w-1 bottom-2 right-1")}),(0,y.jsx)("div",{className:"".concat(s," absolute h-1 w-1 top-1 right-0")}),(0,y.jsx)("div",{className:"".concat(s," absolute h-1 w-1 top-0 right-1")}),(0,y.jsx)("div",{className:"".concat(s," absolute h-1 w-1 top-1 right-1")}),(0,y.jsx)("div",{className:"".concat(s," absolute h-1 w-1 bottom-1 right-0")}),(0,y.jsx)("div",{className:"".concat(s," absolute h-1 w-1 bottom-0 right-1")}),(0,y.jsx)("div",{className:"".concat(s," absolute h-1 w-1 bottom-1 right-1")}),(0,y.jsx)("div",{className:"".concat(s," absolute h-1 w-1 top-1 left-0")}),(0,y.jsx)("div",{className:"".concat(s," absolute h-1 w-1 top-0 left-1")}),(0,y.jsx)("div",{className:"".concat(s," absolute h-1 w-1 top-1 left-1")}),(0,y.jsx)("div",{className:"".concat(s," absolute h-1 w-1 bottom-1 left-0")}),(0,y.jsx)("div",{className:"".concat(s," absolute h-1 w-1 bottom-0 left-1")}),(0,y.jsx)("div",{className:"".concat(s," absolute h-1 w-1 bottom-1 left-1")})]})};var G=function(e){var t=e.children,n=e.className,a=e.onClick,r=e.backgroundColor,s=void 0===r?"bg-white dark:bg-dark-600 hover:bg-gray-primary dark:hover:bg-dark-400":r,i="absolute bg-black dark:bg-dark-100";return(0,y.jsxs)("div",{className:"relative ".concat(n," py-3 px-14 text-regular"),onClick:a,children:[(0,y.jsx)("div",{className:"".concat(i," h-1 top-0 left-1 right-1")}),(0,y.jsx)("div",{className:"".concat(i," h-1 w-1 top-1 left-0")}),(0,y.jsx)("div",{className:"".concat(i," h-1 w-1 top-1 right-0")}),(0,y.jsx)("div",{className:"".concat(i," w-1 top-2 bottom-2 left-0")}),t,(0,y.jsx)("div",{className:"".concat(i," w-1 top-2 bottom-2 right-0")}),(0,y.jsx)("div",{className:"".concat(i," h-1 w-1 bottom-1 left-0")}),(0,y.jsx)("div",{className:"".concat(i," h-1 w-1 bottom-1 right-0")}),(0,y.jsx)("div",{className:"".concat(i," h-1 bottom-0 left-1 right-1")}),(0,y.jsx)("div",{className:"".concat(i," h-1 w-1 top-2 right-2")}),(0,y.jsx)("div",{className:"".concat(i," h-1 w-1 top-2 left-2")}),(0,y.jsx)("div",{className:"".concat(i," h-1 w-1 bottom-2 right-2")}),(0,y.jsx)("div",{className:"".concat(i," h-1 w-1 bottom-2 left-2")}),(0,y.jsx)("div",{className:"".concat(s," absolute h-1 w-1 top-0 right-0")}),(0,y.jsx)("div",{className:"".concat(s," absolute h-1 w-1 top-0 left-0")}),(0,y.jsx)("div",{className:"".concat(s," absolute h-1 w-1 bottom-0 right-0")}),(0,y.jsx)("div",{className:"".concat(s," absolute h-1 w-1 bottom-0 left-0")})]})};var V=function(e){var t=e.className,n=e.threshold,a=e.value,r=e.inc,s=e.dec,i=e.max,o=e.setMin,c=e.isMax,l=e.backgroundColor,d=void 0===l?"bg-white dark:bg-dark-600 hover:bg-gray-principal dark:hover:bg-dark-400":l,u="absolute bg-black dark:bg-dark-100";return(0,y.jsxs)("div",{className:"flex flex-row items-center",children:[(0,y.jsx)("button",{children:(0,y.jsxs)("div",{className:"relative ".concat(t," w-10 h-10 flex justify-center items-center text-regular text-black dark:text-dark-100"),onClick:function(){a-n>=0?s():o()},children:[(0,y.jsx)("svg",{className:"mr-0.5 transform rotate-180",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,y.jsx)("path",{d:"M8 2H12V6H16V10H20V14H16V18H12V22H8V18H12V14H16V10H12V6H8V2Z",fill:"currentcolor"})}),(0,y.jsx)("div",{className:"".concat(u," h-1 top-0 left-1 right-1")}),(0,y.jsx)("div",{className:"".concat(u," h-1 w-1 top-1 left-0")}),(0,y.jsx)("div",{className:"".concat(u," h-1 w-1 top-1 right-0")}),(0,y.jsx)("div",{className:"".concat(u," w-1 top-2 bottom-2 left-0")}),(0,y.jsx)("div",{className:"".concat(u," w-1 top-2 bottom-2 right-0")}),(0,y.jsx)("div",{className:"".concat(u," h-1 bottom-0 left-1 right-1")}),(0,y.jsx)("div",{className:"".concat(u," h-1 w-1 top-0 right-0")}),(0,y.jsx)("div",{className:"".concat(u," h-1 w-1 top-0 left-0")}),(0,y.jsx)("div",{className:"".concat(u," h-1 w-1 bottom-0 right-0")}),(0,y.jsx)("div",{className:"".concat(u," h-1 w-1 bottom-0 left-0")}),(0,y.jsx)("div",{className:"".concat(u," h-1 w-1 top-1 left-2")}),(0,y.jsx)("div",{className:"".concat(u," h-1 w-1 top-1 right-2")}),(0,y.jsx)("div",{className:"".concat(u," h-1 w-1 top-2 left-1")}),(0,y.jsx)("div",{className:"".concat(u," h-1 w-1 top-2 right-1")}),(0,y.jsx)("div",{className:"".concat(u," h-1 w-1 bottom-1 left-2")}),(0,y.jsx)("div",{className:"".concat(u," h-1 w-1 bottom-1 right-2")}),(0,y.jsx)("div",{className:"".concat(u," h-1 w-1 bottom-2 left-1")}),(0,y.jsx)("div",{className:"".concat(u," h-1 w-1 bottom-2 right-1")}),(0,y.jsx)("div",{className:"".concat(d," absolute h-1 w-1 top-1 right-0")}),(0,y.jsx)("div",{className:"".concat(d," absolute h-1 w-1 top-1 right-1")}),(0,y.jsx)("div",{className:"".concat(d," absolute h-1 w-1 bottom-1 right-0")}),(0,y.jsx)("div",{className:"".concat(d," absolute h-1 w-1 bottom-1 right-1")}),(0,y.jsx)("div",{className:"".concat(d," absolute h-1 w-1 top-1 left-0")}),(0,y.jsx)("div",{className:"".concat(d," absolute h-1 w-1 top-0 left-1")}),(0,y.jsx)("div",{className:"".concat(d," absolute h-1 w-1 top-1 left-1")}),(0,y.jsx)("div",{className:"".concat(d," absolute h-1 w-1 bottom-1 left-0")}),(0,y.jsx)("div",{className:"".concat(d," absolute h-1 w-1 bottom-0 left-1")}),(0,y.jsx)("div",{className:"".concat(d," absolute h-1 w-1 bottom-1 left-1")})]})}),(0,y.jsx)("div",{className:"px-5 w-20 h-10 border-t-4 border-b-4 border-black dark:border-dark-100 text-regular flex justify-center items-center",children:a}),(0,y.jsx)("button",{children:(0,y.jsxs)("div",{className:"relative ".concat(t," w-10 h-10 flex justify-center items-center text-regular text-black dark:text-dark-100"),onClick:function(){c||a+n<=i&&r()},children:[(0,y.jsx)("svg",{className:"ml-0.5",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,y.jsx)("path",{d:"M8 2H12V6H16V10H20V14H16V18H12V22H8V18H12V14H16V10H12V6H8V2Z",fill:"currentcolor"})}),(0,y.jsx)("div",{className:"".concat(u," h-1 top-0 left-1 right-1")}),(0,y.jsx)("div",{className:"".concat(u," h-1 w-1 top-1 left-0")}),(0,y.jsx)("div",{className:"".concat(u," h-1 w-1 top-1 right-0")}),(0,y.jsx)("div",{className:"".concat(u," w-1 top-2 bottom-2 left-0")}),(0,y.jsx)("div",{className:"".concat(u," w-1 top-2 bottom-2 right-0")}),(0,y.jsx)("div",{className:"".concat(u," h-1 bottom-0 left-1 right-1")}),(0,y.jsx)("div",{className:"".concat(u," h-1 w-1 top-0 right-0")}),(0,y.jsx)("div",{className:"".concat(u," h-1 w-1 top-0 left-0")}),(0,y.jsx)("div",{className:"".concat(u," h-1 w-1 bottom-0 right-0")}),(0,y.jsx)("div",{className:"".concat(u," h-1 w-1 bottom-0 left-0")}),(0,y.jsx)("div",{className:"".concat(u," h-1 w-1 top-1 left-2")}),(0,y.jsx)("div",{className:"".concat(u," h-1 w-1 top-1 right-2")}),(0,y.jsx)("div",{className:"".concat(u," h-1 w-1 top-2 left-1")}),(0,y.jsx)("div",{className:"".concat(u," h-1 w-1 top-2 right-1")}),(0,y.jsx)("div",{className:"".concat(u," h-1 w-1 bottom-1 left-2")}),(0,y.jsx)("div",{className:"".concat(u," h-1 w-1 bottom-1 right-2")}),(0,y.jsx)("div",{className:"".concat(u," h-1 w-1 bottom-2 left-1")}),(0,y.jsx)("div",{className:"".concat(u," h-1 w-1 bottom-2 right-1")}),(0,y.jsx)("div",{className:"".concat(d," absolute h-1 w-1 top-1 right-0")}),(0,y.jsx)("div",{className:"".concat(d," absolute h-1 w-1 top-0 right-1")}),(0,y.jsx)("div",{className:"".concat(d," absolute h-1 w-1 top-1 right-1")}),(0,y.jsx)("div",{className:"".concat(d," absolute h-1 w-1 bottom-1 right-0")}),(0,y.jsx)("div",{className:"".concat(d," absolute h-1 w-1 bottom-0 right-1")}),(0,y.jsx)("div",{className:"".concat(d," absolute h-1 w-1 bottom-1 right-1")}),(0,y.jsx)("div",{className:"".concat(d," absolute h-1 w-1 top-1 left-0")}),(0,y.jsx)("div",{className:"".concat(d," absolute h-1 w-1 top-1 left-1")}),(0,y.jsx)("div",{className:"".concat(d," absolute h-1 w-1 bottom-1 left-0")}),(0,y.jsx)("div",{className:"".concat(d," absolute h-1 w-1 bottom-1 left-1")})]})})]})},K=n(30014),B=n(13788),X=n(64839);function q(e){return 9==e?-1:Math.floor((e-10)/2)}function z(e,t,n){var a=e;if(0==a)return 0;if((a+=q(t))<=0)return 0;var r=n-a;if(r<=0)return 100;var s=100*(1-r/20);return s<0?0:s.toFixed(2)}var $=n(34155),J=[{name:"All",value:"All"},{name:"Simple",value:"Simple"},{name:"Martial",value:"Martial"},{name:"Exotic",value:"Exotic"}],Q=[{name:"All",value:"All"},{name:"Unarmed",value:"Unarmed"},{name:"Light Melee",value:"Light Melee Weapons"},{name:"One-Handed Melee",value:"One-Handed Melee Weapons"},{name:"Two-Handed Melee",value:"Two-Handed Melee Weapons"},{name:"Ranged",value:"Ranged Weapons"}],ee=[{name:"All",value:"All"},{name:"Bludgeoning",value:"Bludgeoning"},{name:"Piercing",value:"Piercing"},{name:"Slashing",value:"Slashing"}];function te(e){return 1===(null===e||void 0===e?void 0:e.type)?20:2===(null===e||void 0===e?void 0:e.type)?20+e.armor_bonus:3===(null===e||void 0===e?void 0:e.type)?"Simple"==(t=e.proficiency)?20:"Martial"==t?25:"Exotic"==t?30:20:20;var t}function ne(e){var t,n,a,r=e.currentAdventurer,s=e.item,i=e.isSimulationError,o=e.selectedCraftingMaterials,c=e.set_selectedCraftingMaterials,l=e.onCraft,d=((null===r||void 0===r||null===(t=r.gold)||void 0===t?void 0:t.balance)||0)>=s.cost;return(0,y.jsxs)("div",{className:"flex flex-col md:flex-row space-x-0 md:space-x-2",children:[(0,y.jsxs)("div",{className:"flex flex-row md:hidden justify-between",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-megaxs text-black dark:text-dark-100 text-opacity-50 pb-2",children:"Add materials"}),(0,y.jsx)("div",{children:(0,y.jsx)(V,{className:"bg-gray-principal hover:bg-white focus:bg-white dark:bg-dark-400 dark:hover:bg-dark-600 dark:focus:bg-dark-600",backgroundColor:"bg-gray-principal dark:bg-dark-400",value:o,threshold:10,inc:function(){return c((function(e){return e+10}))},dec:function(){return c((function(e){return e-10}))},setMin:function(){return c(0)},max:Number((null===r||void 0===r||null===(n=r.inventory)||void 0===n?void 0:n[0])||0),isMax:100===z(r.skills[5],r.attributes.intelligence,te(s)-o/10)})})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-megaxs text-black dark:text-dark-100 text-opacity-50 pb-2",children:"Chance to Craft"}),(0,y.jsx)(W,{className:"bg-gray-principal dark:bg-dark-400",backgroundColor:"bg-gray-principal dark:bg-dark-400",children:"".concat(z(r.skills[5],r.attributes.intelligence,te(s)-o/10),"%")})]})]}),(0,y.jsxs)("div",{className:"hidden md:block",children:[(0,y.jsx)("p",{className:"text-megaxs text-black dark:text-dark-100 text-opacity-50 pb-2",children:"Add materials"}),(0,y.jsx)("div",{children:(0,y.jsx)(V,{className:"bg-gray-principal hover:bg-white focus:bg-white dark:bg-dark-400 dark:hover:bg-dark-600 dark:focus:bg-dark-600",backgroundColor:"bg-gray-principal dark:bg-dark-400",value:o,threshold:10,inc:function(){return c((function(e){return e+10}))},dec:function(){return c((function(e){return e-10}))},setMin:function(){return c(0)},max:Number((null===r||void 0===r||null===(a=r.inventory)||void 0===a?void 0:a[0])||0),isMax:100===z(r.skills[5],r.attributes.intelligence,te(s)-o/10)})})]}),(0,y.jsxs)("div",{className:"hidden md:block",children:[(0,y.jsx)("p",{className:"text-megaxs text-black dark:text-dark-100 text-opacity-50 pb-2",children:"Chance to Craft"}),(0,y.jsx)(W,{className:"bg-gray-principal dark:bg-dark-400",backgroundColor:"bg-gray-principal dark:bg-dark-400",children:"".concat(z(r.skills[5],r.attributes.intelligence,te(s)-o/10),"%")})]}),(0,y.jsxs)("div",{className:"flex-1",children:[(0,y.jsx)("p",{className:"text-megaxs text-black dark:text-dark-100 text-opacity-50 pb-2",children:"\xa0"}),(0,y.jsx)(G,{onClick:function(){return l()},className:"".concat(d?"cursor-pointer hover:bg-white focus:bg-white dark:hover:bg-dark-600 dark:focus:bg-dark-600":"cursor-not-allowed"," bg-gray-principal dark:bg-dark-400 text-center"),backgroundColor:"bg-gray-principal dark:bg-dark-400",children:d?i?"YOU WILL PROBABLY FAIL IF YOU CRAFT NOW":"TRY TO CRAFT":"NOT ENOUGH GOLD"})]})]})}function ae(e){var t=e.isExpanded,n=e.set_isExpanded,a=e.item,r=e.craftingSuccessPercent,s=e.children,i=e.overlay;return(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsxs)(h.Z,{className:"bg-gray-principal dark:bg-dark-400 w-full z-10 cursor-pointer",children:[(0,y.jsxs)("div",{className:"w-full flex flex-row px-4",onClick:function(){return n(!t)},children:[(0,y.jsxs)("div",{className:"w-16 h-16 bg-gray-principal dark:bg-dark-400 flex justify-center items-center item relative my-4",children:[(0,y.jsx)("div",{className:"absolute ".concat(a.levelClassName," left-0 top-0 w-2 h-1")}),(0,y.jsx)("div",{className:"absolute ".concat(a.levelClassName," left-0 top-0 w-1 h-2")}),(0,y.jsx)("div",{className:"absolute ".concat(a.levelClassName," right-0 top-0 w-2 h-1")}),(0,y.jsx)("div",{className:"absolute ".concat(a.levelClassName," right-0 top-0 w-1 h-2")}),(0,y.jsx)(x.default,{src:a.img,width:60,height:60}),(0,y.jsx)("div",{className:"absolute ".concat(a.levelClassName," left-0 bottom-0 w-2 h-1")}),(0,y.jsx)("div",{className:"absolute ".concat(a.levelClassName," left-0 bottom-0 w-1 h-2")}),(0,y.jsx)("div",{className:"absolute ".concat(a.levelClassName," right-0 bottom-0 w-2 h-1")}),(0,y.jsx)("div",{className:"absolute ".concat(a.levelClassName," right-0 bottom-0 w-1 h-2")})]}),(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-x-0 md:gap-x-4 gap-y-4 md:gap-y-0 pt-4 ml-16 w-full pb-4 md:pb-0",children:[(0,y.jsxs)("div",{className:"w-full",children:[(0,y.jsx)("p",{className:"text-megaxs text-black dark:text-dark-100 text-opacity-50 pb-2",children:"Name"}),(0,y.jsx)("p",{className:"text-xs text-black dark:text-white",children:null===a||void 0===a?void 0:a.name})]}),(0,y.jsxs)("div",{className:"w-full",children:[(0,y.jsx)("p",{className:"text-megaxs text-black dark:text-dark-100 text-opacity-50 pb-2",children:"Cost (gold)"}),(0,y.jsx)("p",{className:"text-xs text-black dark:text-white",children:"".concat(null===a||void 0===a?void 0:a.cost," gold")})]}),(0,y.jsxs)("div",{className:"w-full",children:[(0,y.jsx)("p",{className:"text-megaxs text-black dark:text-dark-100 text-opacity-50 pb-2",children:"Cost (xp)"}),(0,y.jsx)("p",{className:"text-xs text-black dark:text-white",children:"250 XP"})]}),(0,y.jsxs)("div",{className:"w-full",children:[(0,y.jsx)("p",{className:"text-megaxs text-black dark:text-dark-100 text-opacity-50 pb-2",children:"Crafting success"}),(0,y.jsx)("p",{className:"text-xs ".concat(r>75?"text-tag-new":r>=50?"text-tag-warning":"text-tag-withdraw"),children:"".concat(r,"%")})]}),(0,y.jsxs)("div",{className:"hidden md:flex w-full",children:[(0,y.jsx)("p",{className:"text-sx text-black dark:text-dark-100 text-opacity-50 pb-2",children:"\xa0"}),(0,y.jsx)("div",{className:"text-xs text-black dark:text-white flex flex-row justify-end items-center",children:(0,y.jsx)(P.Z,{className:"ml-2 select-none cursor-pointer text-black dark:text-white transform transition-transform ".concat(t?"-rotate-90":"-rotate-180")})})]})]})]}),(0,y.jsx)("div",{className:"bg-gray-principal dark:bg-dark-400 w-full mt-2 transition-max-height ".concat(t?"max-h-full":"max-h-0 hidden"),children:s})]}),i]})}function re(e){var t,n=e.item,a=e.currentAdventurer,s=e.children,c=(0,f.ZP)(),l=c.provider,d=c.currentBlock,u=(0,o.useState)(!1),x=u[0],p=u[1],m=(0,o.useState)(0),h=m[0],v=m[1],b=(0,o.useState)(!1),g=b[0],N=b[1],j=z(a.skills[5],a.attributes.intelligence,te(n)),E=((null===a||void 0===a||null===(t=a.gold)||void 0===t?void 0:t.balance)||0)>=n.cost,w=(0,o.useState)({none:!0,isPending:!1,isSuccess:!1,isError:!1,isFailed:!1,isSimulationFailed:!1}),O=w[0],T=w[1];function S(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];E&&(T({none:!1,isPending:!0,isSuccess:!1,isError:!1,isFailed:!1,isSimulationFailed:!1}),(0,k.cA)({provider:l,contractAddress:$.env.RARITY_CRAFTING_ADDR,tokenID:a.tokenID,itemName:n.name,baseType:n.type,itemType:n.id,craftingMaterials:h,forced:e},(function(e){var t=e.error;return T("SIMULATION_FAILED"===t?{none:!1,isPending:!1,isSuccess:!1,isError:!1,isFailed:!1,isSimulationFailed:!0}:"CRAFT_FAILED"===t?{none:!1,isPending:!1,isSuccess:!1,isError:!1,isFailed:!0,isSimulationFailed:!1}:t?{none:!1,isPending:!1,isSuccess:!1,isError:!0,isFailed:!1,isSimulationFailed:!1}:{none:!1,isPending:!1,isSuccess:!0,isError:!1,isFailed:!1,isSimulationFailed:!1})})))}function A(){return(A=(0,r.Z)(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.getSigner(),r=new Y.Contract($.env.RARITY_CRAFTING_ADDR,["function simulate(uint _summoner, uint _base_type, uint _item_type, uint _crafting_materials) view returns (bool crafted, int check, uint cost, uint dc)"],t),e.next=4,r.simulate(a.tokenID,n.type,n.id,h);case 4:e.sent.crafted?p(!1):p(!0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,o.useEffect)((function(){g&&E&&function(){A.apply(this,arguments)}()}),[g,d,null===a||void 0===a?void 0:a.tokenID,E,h]),(0,y.jsxs)(ae,{isExpanded:g,set_isExpanded:N,item:n,craftingSuccessPercent:j,children:[(0,y.jsxs)("div",{className:"w-full flex flex-col px-4 pt-4 pb-6 space-y-6 cursor-default",children:[(0,y.jsx)("div",{className:"grid grid-cols-3 gap-x-4 gap-y-6",children:s}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-megaxs text-black dark:text-dark-100 text-opacity-50 pb-2",children:"Description"}),(0,y.jsx)("p",{className:"text-megaxs text-black dark:text-white",children:n.description})]}),(0,y.jsx)(ne,{currentAdventurer:a,item:n,onCraft:S,isSimulationError:x,selectedCraftingMaterials:h,set_selectedCraftingMaterials:v})]}),O.isPending?(0,y.jsx)("div",{className:"absolute inset-0 backdrop-blur-3xl bg-white dark:bg-black bg-opacity-70 dark:bg-opacity-70 cursor-not-allowed flex flex-col justify-center items-center text-center p-6",children:(0,y.jsx)("div",{className:"loader"})}):O.isSuccess?(0,y.jsxs)("div",{className:"absolute inset-0 backdrop-blur-3xl bg-white dark:bg-black bg-opacity-70 dark:bg-opacity-70 cursor-not-allowed flex flex-col justify-center items-center text-center p-6",children:[(0,y.jsx)("p",{children:"YOU HAVE SUCCESSFULLY CRAFTED 1 ".concat(null===n||void 0===n?void 0:n.name,"!")}),(0,y.jsx)(G,{onClick:function(){return T({none:!0,isPending:!1,isSuccess:!1,isError:!1,isFailed:!1,isSimulationFailed:!1})},className:"cursor-pointer hover:bg-gray-secondary focus:bg-gray-secondary dark:hover:bg-dark-600 dark:focus:bg-dark-600 bg-white dark:bg-dark-900 text-center mt-4",backgroundColor:"bg-white dark:bg-black bg-opacity-40 dark:bg-opacity-40",children:"OK"})]}):O.isFailed?(0,y.jsxs)("div",{className:"absolute inset-0 backdrop-blur-3xl bg-white dark:bg-black bg-opacity-70 dark:bg-opacity-70 cursor-not-allowed flex flex-col justify-center items-center text-center p-6",children:[(0,y.jsx)("p",{children:"YOU FAILED TO BUILD THE ".concat(null===n||void 0===n?void 0:n.name,".")}),(0,y.jsx)(G,{onClick:function(){return T({none:!0,isPending:!1,isSuccess:!1,isError:!1,isFailed:!1,isSimulationFailed:!1})},className:"cursor-pointer hover:bg-gray-secondary focus:bg-gray-secondary dark:hover:bg-dark-600 dark:focus:bg-dark-600 bg-white dark:bg-dark-900 text-center mt-4",backgroundColor:"bg-white dark:bg-black bg-opacity-40 dark:bg-opacity-40",children:"OK"})]}):O.isSimulationFailed?(0,y.jsxs)("div",{className:"absolute inset-0 backdrop-blur-3xl bg-white dark:bg-black bg-opacity-70 dark:bg-opacity-70 cursor-not-allowed flex flex-col justify-center items-center text-center p-6",children:[(0,y.jsx)("p",{children:"CEAZOR HAS STOPPED YOU."}),(0,y.jsx)("p",{children:"YOU WILL FAIL IF YOU TRY IT NOW."}),(0,y.jsxs)("div",{className:"flex flex-row space-x-4",children:[(0,y.jsx)(G,{onClick:function(){return S(!0)},className:"cursor-pointer hover:bg-gray-secondary focus:bg-gray-secondary dark:hover:bg-dark-600 dark:focus:bg-dark-600 bg-white dark:bg-dark-900 text-center mt-4",backgroundColor:"bg-white dark:bg-black bg-opacity-40 dark:bg-opacity-40",children:"CONTINUE ANYWAY"}),(0,y.jsx)(G,{onClick:function(){return T({none:!0,isPending:!1,isSuccess:!1,isError:!1,isFailed:!1,isSimulationFailed:!1})},className:"cursor-pointer hover:bg-gray-secondary focus:bg-gray-secondary dark:hover:bg-dark-600 dark:focus:bg-dark-600 bg-white dark:bg-dark-900 text-center mt-4",backgroundColor:"bg-white dark:bg-black bg-opacity-40 dark:bg-opacity-40",children:"CANCEL"})]})]}):O.isError?(0,y.jsxs)("div",{className:"absolute inset-0 backdrop-blur-3xl bg-white dark:bg-black bg-opacity-70 dark:bg-opacity-70 cursor-not-allowed flex flex-col justify-center items-center text-center p-6",children:[(0,y.jsx)("p",{children:"THERE WAS AN ERROR PROCESSING THE TRANSACTION"}),(0,y.jsx)(G,{onClick:function(){return T({none:!0,isPending:!1,isSuccess:!1,isError:!1,isFailed:!1,isSimulationFailed:!1})},className:"cursor-pointer hover:bg-gray-secondary focus:bg-gray-secondary dark:hover:bg-dark-600 dark:focus:bg-dark-600 bg-white dark:bg-dark-900 text-center mt-4",backgroundColor:"bg-white dark:bg-black bg-opacity-40 dark:bg-opacity-40",children:"OK"})]}):null]})}var se=function(e){var t=e.shouldDisplay,n=e.category,a=(0,b.ZP)().currentAdventurer,r=(0,o.useState)(""),s=r[0],i=r[1],c=(0,o.useState)("All"),l=c[0],d=c[1],u=(0,o.useState)(J[0]),x=u[0],p=u[1],m=(0,o.useState)(Q[0]),v=m[0],f=m[1],g=(0,o.useState)(ee[0]),k=g[0],N=g[1];return t?(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("div",{className:"inline-block py-9 text-left transition-all transform bg-white dark:bg-dark-600 max-w-screen-lg w-full uppercase font-title relative",children:[(0,y.jsxs)("div",{className:"w-full flex flex-col md:flex-row text-megaxs mb-4",children:[(0,y.jsx)(h.Z,{children:(0,y.jsx)("input",{onChange:function(e){var t;return i((null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)||"")},className:"bg-white dark:bg-dark-600 border-solid h-10 w-full md:w-75 mr-0 md:mr-4 text-xs px-2 focus:outline-none text-black dark:text-white",placeholder:"SEARCH"})}),0===n?(0,y.jsx)("div",{onClick:function(){return d("All")},className:"hidden md:block h-min p-2 cursor-pointer text-black dark:text-white mr-4 ".concat("All"===l?"bg-gray-secondary dark:bg-dark-400":"bg-white dark:bg-dark-600"," dark:hover:bg-dark-400 hover:bg-gray-secondary ml-auto"),children:"All"}):1===n?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{onClick:function(){return d("All")},className:"hidden md:block h-min p-2 cursor-pointer text-black dark:text-white mr-4 ".concat("All"===l?"bg-gray-secondary dark:bg-dark-400":"bg-white dark:bg-dark-600"," dark:hover:bg-dark-400 hover:bg-gray-secondary ml-auto"),children:"All"}),(0,y.jsx)("div",{onClick:function(){return d("Light")},className:"hidden md:block h-min p-2 cursor-pointer text-black dark:text-white mr-4 ".concat("Light"===l?"bg-gray-secondary dark:bg-dark-400":"bg-white dark:bg-dark-600"," dark:hover:bg-dark-400 hover:bg-gray-secondary"),children:"Light"}),(0,y.jsx)("div",{onClick:function(){return d("Medium")},className:"hidden md:block h-min p-2 cursor-pointer text-black dark:text-white mr-4 ".concat("Medium"===l?"bg-gray-secondary dark:bg-dark-400":"bg-white dark:bg-dark-600"," dark:hover:bg-dark-400 hover:bg-gray-secondary"),children:"Medium"}),(0,y.jsx)("div",{onClick:function(){return d("Heavy")},className:"hidden md:block h-min p-2 cursor-pointer text-black dark:text-white mr-4 ".concat("Heavy"===l?"bg-gray-secondary dark:bg-dark-400":"bg-white dark:bg-dark-600"," dark:hover:bg-dark-400 hover:bg-gray-secondary"),children:"Heavy"}),(0,y.jsx)("div",{onClick:function(){return d("Shields")},className:"hidden md:block h-min p-2 cursor-pointer text-black dark:text-white ".concat("Shields"===l?"bg-gray-secondary dark:bg-dark-400":"bg-white dark:bg-dark-600"," dark:hover:bg-dark-400 hover:bg-gray-secondary"),children:"Shields"})]}):(0,y.jsxs)("div",{className:"ml-auto flex flex-row w-full md:w-auto",children:[(0,y.jsx)(Z.Z,{options:J,className:"mr-4 w-24 md:w-28",set_selected:p,selected:x}),(0,y.jsx)(Z.Z,{options:Q,className:"mr-4 w-24 md:w-40",set_selected:f,selected:v}),(0,y.jsx)(Z.Z,{options:ee,className:"w-24 md:w-32",set_selected:N,selected:k})]})]}),(0,y.jsxs)("div",{children:[0===n?(0,y.jsx)("div",{className:"grid grid-cols-1 gap-4 md:gap-8 gap-y-4",children:Object.values(K).filter((function(e){return""===s||(null===e||void 0===e?void 0:e.name.toLowerCase().includes(s.toLowerCase()))})).map((function(e){return(0,y.jsx)(re,{item:e,currentAdventurer:a,children:(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-megaxs text-black dark:text-dark-100 text-opacity-50 pb-2",children:"WEIGHT"}),(0,y.jsx)("p",{className:"text-sx text-black dark:text-white break-words",children:(null===e||void 0===e?void 0:e.weight)||0})]})})},"goods_".concat(null===e||void 0===e?void 0:e.id))}))}):null,1===n?(0,y.jsx)("div",{className:"grid grid-cols-1 gap-4 md:gap-8 gap-y-4",children:Object.values(B).filter((function(e){return"All"===l||e.proficiency===l})).filter((function(e){return""===s||(null===e||void 0===e?void 0:e.name.toLowerCase().includes(s.toLowerCase()))})).map((function(e){return(0,y.jsx)(re,{item:e,currentAdventurer:a,children:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-megaxs text-black dark:text-dark-100 text-opacity-50 pb-2",children:"ARMOR TYPE"}),(0,y.jsx)("p",{className:"text-sx text-black dark:text-white break-words",children:null===e||void 0===e?void 0:e.proficiency})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-megaxs text-black dark:text-dark-100 text-opacity-50 pb-2",children:"ARMOR"}),(0,y.jsx)("p",{className:"text-sx text-black dark:text-white break-words",children:null===e||void 0===e?void 0:e.armor_bonus})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-megaxs text-black dark:text-dark-100 text-opacity-50 pb-2",children:"MAX DEX BONUS"}),(0,y.jsx)("p",{className:"text-sx text-black dark:text-white break-words",children:null===e||void 0===e?void 0:e.max_dex_bonus})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-megaxs text-black dark:text-dark-100 text-opacity-50 pb-2",children:"PENALTY"}),(0,y.jsx)("p",{className:"text-sx text-black dark:text-white break-words",children:null===e||void 0===e?void 0:e.penalty})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-megaxs text-black dark:text-dark-100 text-opacity-50 pb-2",children:"SPELL FAILURE"}),(0,y.jsx)("p",{className:"text-sx text-black dark:text-white break-words",children:null===e||void 0===e?void 0:e.spell_failure})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-megaxs text-black dark:text-dark-100 text-opacity-50 pb-2",children:"WEIGHT"}),(0,y.jsx)("p",{className:"text-sx text-black dark:text-white break-words",children:(null===e||void 0===e?void 0:e.weight)||0})]})]})},"goods_".concat(null===e||void 0===e?void 0:e.id))}))}):null,2===n?(0,y.jsx)("div",{className:"grid grid-cols-1 gap-4 md:gap-8 gap-y-4",children:Object.values(X).filter((function(e){return""===s||(null===e||void 0===e?void 0:e.name.toLowerCase().includes(s.toLowerCase()))})).filter((function(e){return"All"===x.value||e.proficiency===x.value})).filter((function(e){return"All"===v.value||e.encumbrance===v.value})).filter((function(e){return"All"===k.value||e.damageType===k.value})).filter((function(e){return""===s||(null===e||void 0===e?void 0:e.name.toLowerCase().includes(s.toLowerCase()))})).map((function(e){return(0,y.jsx)(re,{item:e,currentAdventurer:a,children:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-megaxs text-black dark:text-dark-100 text-opacity-50 pb-2",children:"DMG TYPE"}),(0,y.jsx)("p",{className:"text-sx text-black dark:text-white break-words",children:null===e||void 0===e?void 0:e.damageType})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-megaxs text-black dark:text-dark-100 text-opacity-50 pb-2",children:"ENCUMBRANCE"}),(0,y.jsx)("p",{className:"text-sx text-black dark:text-white break-words",children:null===e||void 0===e?void 0:e.encumbrance})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-megaxs text-black dark:text-dark-100 text-opacity-50 pb-2",children:"PROFICIENCY"}),(0,y.jsx)("p",{className:"text-sx text-black dark:text-white break-words",children:null===e||void 0===e?void 0:e.proficiency})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-megaxs text-black dark:text-dark-100 text-opacity-50 pb-2",children:"DAMAGE"}),(0,y.jsx)("p",{className:"text-sx text-black dark:text-white break-words",children:(null===e||void 0===e?void 0:e.damage)||0})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-megaxs text-black dark:text-dark-100 text-opacity-50 pb-2",children:"CRITICAL"}),(0,y.jsx)("p",{className:"text-sx text-black dark:text-white break-words",children:null!==e&&void 0!==e&&e.critical_modifier?"".concat("".concat(20+(null===e||void 0===e?void 0:e.critical_modifier),"-20"),"/x",(null===e||void 0===e?void 0:e.critical)||0):"x".concat((null===e||void 0===e?void 0:e.critical)||0)})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-megaxs text-black dark:text-dark-100 text-opacity-50 pb-2",children:"RANGE"}),(0,y.jsx)("p",{className:"text-sx text-black dark:text-white break-words",children:(null===e||void 0===e?void 0:e.range_increment)||0})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-megaxs text-black dark:text-dark-100 text-opacity-50 pb-2",children:"WEIGHT"}),(0,y.jsx)("p",{className:"text-sx text-black dark:text-white break-words",children:(null===e||void 0===e?void 0:e.weight)||0})]})]})},"weapons_".concat(null===e||void 0===e?void 0:e.id))}))}):null]})]})}):null},ie=n(20162),oe=n(86963),ce=n(17090),le=n(4279),de=n(34155);function ue(e,t){return xe.apply(this,arguments)}function xe(){return(xe=(0,r.Z)(i().mark((function e(t,n){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=new u.zt,!n){e.next=7;break}return e.next=4,a.init(new d.r("http://localhost:8545"));case 4:return a.multicallAddress=de.env.MULTICALL_ADDRESS,a.multicall2Address=de.env.MULTICALL2_ADDRESS,e.abrupt("return",a);case 7:return e.next=9,a.init(t);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e){var t,n=e.router,a=e.adventurersCount,r=e.set_category,s=e.approveStatus,i=e.adventurerCanCraft,c=e.adventurerHasXp,l=e.approveGold,d=e.approveCraftingMaterials,u=e.openModalSkills,x=(0,o.useState)(0),p=x[0],h=x[1],v=(0,o.useState)(0),f=v[0],g=v[1],k=(0,b.ZP)().currentAdventurer;if((0,o.useEffect)((function(){h(0),g((function(e){return e+1}))}),[null===k||void 0===k?void 0:k.tokenID,null===n||void 0===n?void 0:n.asPath]),0===a)return(0,y.jsx)(m.Z,{selectedOption:p,nonce:f,options:[{label:"GO TO THE TAVERN",onClick:function(){return n.push("/town/tavern?tab=recruit")}}]});if("workshop"===(null===n||void 0===n||null===(t=n.query)||void 0===t?void 0:t.tab)){var N,j=[];return i?c?(s.approvedGold||j.push({label:"APPROVE GOLD FOR CRAFTING",onClick:function(){return l()}}),s.approvedCraftingMaterials||j.push({label:"APPROVE CRAFTING MATERIALS",onClick:function(){return d()}}),j.length>0?(j.push({label:"Nevermind",onClick:function(){return n.push("/town/blacksmith")}}),(0,y.jsx)(m.Z,{selectedOption:p,nonce:f,options:j})):(0,y.jsx)(m.Z,{selectedOption:p,nonce:f,options:[{label:(0,y.jsxs)(y.Fragment,{children:["CRAFT SOME ",(0,y.jsx)("span",{className:"text-tag-info",children:"GOODS"})]}),onClick:function(){return r(0)}},{label:(0,y.jsxs)(y.Fragment,{children:["CRAFT SOME ",(0,y.jsx)("span",{className:"text-tag-info",children:"ARMORS"})]}),onClick:function(){return r(1)}},{label:(0,y.jsxs)(y.Fragment,{children:["CRAFT SOME ",(0,y.jsx)("span",{className:"text-tag-info",children:"WEAPONS"})]}),onClick:function(){return r(2)}},{label:"Nevermind",onClick:function(){return n.push("/town/blacksmith")}}]})):(0,y.jsx)(m.Z,{selectedOption:p,nonce:f,options:[{label:"Nevermind",onClick:function(){return n.push("/town/blacksmith")}}]}):null!==k&&void 0!==k&&null!==(N=k.attributes)&&void 0!==N&&N.isInit?(0,y.jsx)(m.Z,{selectedOption:p,nonce:f,options:[{label:(0,y.jsxs)(y.Fragment,{children:["LEARN HOW TO ",(0,y.jsx)("span",{className:"text-tag-info",children:"CRAFT"})]}),onClick:function(){return u()}},{label:"Nevermind",onClick:function(){return n.push("/town/blacksmith")}}]}):(0,y.jsx)(m.Z,{selectedOption:p,nonce:f,options:[{label:"Nevermind",onClick:function(){return n.push("/town/blacksmith")}}]})}return(0,y.jsx)(m.Z,{selectedOption:p,nonce:f,options:[{label:"WELCOME",onClick:function(){return n.push("/town/blacksmith")}},{label:"Access the Workshop",onClick:function(){return n.push("/town/blacksmith?tab=workshop")}},(0,le.c1)(le.Tc.FOREST)&&{label:"Upgrade an Artifact",onClick:function(){return n.push("/town/blacksmith?tab=upgrade")}},(0,le.c1)(le.Tc.FOREST)&&{label:"Restore an Artifact",onClick:function(){return n.push("/town/blacksmith?tab=restore")}}].filter((function(e){return Boolean(e)}))})}function me(e){var t,n=e.router,a=e.approveStatus,r=e.adventurerCanCraft,s=e.adventurerHasXp,i=e.currentAdventurer,c=(0,o.useState)(0),l=c[0],d=c[1],u=(0,o.useState)(0),x=u[0],m=u[1],h=(0,o.useState)(!1),v=h[0],f=h[1],b=(0,o.useState)(!1),g=b[0],k=b[1],N=(0,o.useState)(!1),j=N[0],E=N[1],w=(0,o.useState)(!1),O=w[0],T=w[1];(0,o.useEffect)((function(){m(0),d((function(e){return e+1}))}),[null===n||void 0===n||null===(t=n.query)||void 0===t?void 0:t.tab,a,null===i||void 0===i?void 0:i.tokenID,r,s]);return(0,y.jsx)("h1",{className:"text-xs md:text-xs leading-normal md:leading-8",children:function(){var e,t,i;if("upgrade"===(null===n||void 0===n||null===(e=n.query)||void 0===e?void 0:e.tab))return g?(0,y.jsxs)(y.Fragment,{children:["YOU WENT IN ",(0,y.jsx)("span",{className:"text-tag-info",children:"THE FOREST"})," AND FOUND SOMETHING ? I HAVE SOME STUFF I COULD USE TO ",(0,y.jsx)("span",{className:"text-tag-info",children:"UPGRADE"})," THEM. WHICH ONE DO YOU WANT TO UPGRADE?"]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:0===x,children:"YOU WENT IN "}),"\xa0",(0,y.jsx)("span",{className:"text-tag-info",children:(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:1===x,children:"THE FOREST"})}),(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:2===x,children:" AND FOUND SOMETHING ? I HAVE SOME STUFF I COULD USE TO "}),(0,y.jsx)("span",{className:"text-tag-info",children:(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:3===x,children:"UPGRADE"})}),(0,y.jsx)(p.Z,{onDone:function(){m((function(e){return e+1})),k(!0)},shouldStart:4===x,children:" THEM. WHICH ONE DO YOU WANT TO UPGRADE?"})]});if("restore"===(null===n||void 0===n||null===(t=n.query)||void 0===t?void 0:t.tab))return j?(0,y.jsxs)(y.Fragment,{children:["IF YOU HAVE SOME RUSTY ARTIFACTS FROM ",(0,y.jsx)("span",{className:"text-tag-info",children:"THE OLD FOREST"}),", I CAN RESTORE THEM FOR FREE!"]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:0===x,children:"IF YOU HAVE SOME RUSTY ARTIFACTS FROM "}),"\xa0",(0,y.jsx)("span",{className:"text-tag-info",children:(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:1===x,children:"THE OLD FOREST"})}),(0,y.jsx)(p.Z,{onDone:function(){m((function(e){return e+1})),E(!0)},shouldStart:2===x,children:", I CAN RESTORE THEM FOR FREE!"})]});if("workshop"===(null===n||void 0===n||null===(i=n.query)||void 0===i?void 0:i.tab))return r?s?a.approvedGold||a.approvedCraftingMaterials?a.approvedGold?a.approvedCraftingMaterials?O?(0,y.jsxs)(y.Fragment,{children:["LET'S ",(0,y.jsx)("span",{className:"text-tag-info",children:"CRAFT"}),"! REMEMBER, WHEN YOU TRY TO CRAFT SOMETHING, YOU MAY ",(0,y.jsx)("span",{className:"text-tag-info",children:"FAIL"}),", IT'S A DIFFICULT TASK. ",(0,y.jsx)("span",{className:"text-tag-info",children:"YOUR INTELLIGENCE AND CRAFT SKILL"})," CAN HELP YOU.",(0,y.jsx)("div",{}),"EACH ATTEMPT WILL COST YOU ",(0,y.jsx)("span",{className:"text-tag-info",children:"250XP"}),"."]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:0===x,children:"LET'S "}),(0,y.jsx)("span",{className:"text-tag-info",children:(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:1===x,children:"CRAFT"})}),(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:2===x,children:"! REMEMBER, WHEN YOU TRY TO CRAFT SOMETHING, YOU MAY "}),(0,y.jsx)("span",{className:"text-tag-info",children:(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:3===x,children:"FAIL"})}),(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:4===x,children:", IT'S A DIFFICULT TASK. "}),(0,y.jsx)("span",{className:"text-tag-info",children:(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:5===x,children:"YOUR INTELLIGENCE AND CRAFT SKILL"})}),(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:6===x,children:" CAN HELP YOU."}),(0,y.jsx)("div",{}),(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:7===x,children:"EACH ATTEMPT WILL COST YOU "}),(0,y.jsx)("span",{className:"text-tag-info",children:(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:8===x,children:"250XP"})}),(0,y.jsx)(p.Z,{onDone:function(){m((function(e){return e+1})),E(!0)},shouldStart:9===x,children:"."})]}):O?(0,y.jsxs)(y.Fragment,{children:["YOU ARE HERE TO ",(0,y.jsx)("span",{className:"text-tag-info",children:"CRAFT"})," SOMETHING? PERFECT! PLEASE ALLOW ME TO USE SOME OF YOUR ",(0,y.jsx)("span",{className:"text-tag-info",children:"RAT SKINS"}),"! WE WILL BEGIN IMMEDIATELY!"]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:0===x,children:"YOU ARE HERE TO "}),(0,y.jsx)("span",{className:"text-tag-info",children:(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:1===x,children:"CRAFT"})}),(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:2===x,children:" SOMETHING? PERFECT! PLEASE ALLOW ME TO USE SOME OF YOUR "}),(0,y.jsx)("span",{className:"text-tag-info",children:(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:3===x,children:"RAT SKINS"})}),(0,y.jsx)(p.Z,{onDone:function(){m((function(e){return e+1})),T(!0)},shouldStart:4===x,children:"! WE WILL BEGIN IMMEDIATELY!"})]}):O?(0,y.jsxs)(y.Fragment,{children:["YOU ARE HERE TO ",(0,y.jsx)("span",{className:"text-tag-info",children:"CRAFT"})," SOMETHING? PERFECT! PLEASE ALLOW ME TO USE SOME OF YOUR ",(0,y.jsx)("span",{className:"text-tag-info",children:"GOLD"}),"! WE WILL BEGIN IMMEDIATELY!"]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:0===x,children:"YOU ARE HERE TO "}),(0,y.jsx)("span",{className:"text-tag-info",children:(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:1===x,children:"CRAFT"})}),(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:2===x,children:" SOMETHING? PERFECT! PLEASE ALLOW ME TO USE SOME OF YOUR "}),(0,y.jsx)("span",{className:"text-tag-info",children:(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:3===x,children:"GOLD"})}),(0,y.jsx)(p.Z,{onDone:function(){m((function(e){return e+1})),T(!0)},shouldStart:4===x,children:"! WE WILL BEGIN IMMEDIATELY!"})]}):O?(0,y.jsxs)(y.Fragment,{children:["YOU ARE HERE TO ",(0,y.jsx)("span",{className:"text-tag-info",children:"CRAFT"})," SOMETHING? PERFECT! PLEASE ALLOW ME TO USE SOME OF YOUR ",(0,y.jsx)("span",{className:"text-tag-info",children:"GOLD"})," AS WELL AS SOME OF YOUR ",(0,y.jsx)("span",{className:"text-tag-info",children:"RAT SKINS"}),"! WE WILL BEGIN IMMEDIATELY!"]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:0===x,children:"YOU ARE HERE TO "}),(0,y.jsx)("span",{className:"text-tag-info",children:(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:1===x,children:"CRAFT"})}),(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:2===x,children:" SOMETHING? PERFECT! PLEASE ALLOW ME TO USE SOME OF YOUR "}),(0,y.jsx)("span",{className:"text-tag-info",children:(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:3===x,children:"GOLD"})}),(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:4===x,children:" AS WELL AS SOME OF YOUR "}),(0,y.jsx)("span",{className:"text-tag-info",children:(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:5===x,children:"RAT SKINS"})}),(0,y.jsx)(p.Z,{onDone:function(){m((function(e){return e+1})),T(!0)},shouldStart:6===x,children:"! WE WILL BEGIN IMMEDIATELY!"})]}):O?(0,y.jsxs)(y.Fragment,{children:["YOU LOOK TIRED TODAY. YOU NEED AT LEAST ",(0,y.jsx)("span",{className:"text-tag-info",children:"250 XP"})," TO CRAFT SOMETHING. GO ON AN ADVENTURE AND COME BACK WHEN YOU ARE READY!"]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:0===x,children:"YOU LOOK TIRED TODAY. YOU NEED AT LEAST "}),(0,y.jsx)("span",{className:"text-tag-info",children:(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:1===x,children:"250 XP"})}),(0,y.jsx)(p.Z,{onDone:function(){m((function(e){return e+1})),T(!0)},shouldStart:2===x,children:" TO CRAFT SOMETHING. GO ON AN ADVENTURE AND COME BACK WHEN YOU ARE READY!"})]}):O?(0,y.jsxs)(y.Fragment,{children:["ONLY SOMEONE WHO KNOWS THE ",(0,y.jsx)("span",{className:"text-tag-info",children:"CRAFT SKILL"})," CAN ACCESS THIS WORKSHOP! LEARN IT FIRST THEN COME BACK!"]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:0===x,children:"ONLY SOMEONE WHO KNOWS THE "}),(0,y.jsx)("span",{className:"text-tag-info",children:(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:1===x,children:"CRAFT SKILL"})}),(0,y.jsx)(p.Z,{onDone:function(){m((function(e){return e+1})),T(!0)},shouldStart:2===x,children:" CAN ACCESS THIS WORKSHOP! LEARN IT FIRST THEN COME BACK!"})]});var o=(0,le.c1)(le.Tc.FOREST)?"  ALSO, IF YOU FOUND SOME ITEMS IN THE FOREST,  I CAN STILL UPGRADE THEM FOR XP. OR RESTORE THE ONES FROM THE OLD FOREST.":"";return v?(0,y.jsxs)(y.Fragment,{children:["WELCOME! I AM ",(0,y.jsx)("span",{className:"text-tag-info",children:"CEAZOR THE BLACKSMITH"}),". MY WORKSHOP IS OPEN FOR BUSINESS. YOU CAN NOW ",(0,y.jsx)("span",{className:"text-tag-info",children:"CRAFT AN ITEM"})," IF YOU HAVE THE SKILL AND MATERIALS TO PULL IT OFF. DON'T WORRY I WILL HELP YOU OUT.".concat(o)]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:0===x,children:"WELCOME! I AM "}),(0,y.jsx)("span",{className:"text-tag-info",children:(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:1===x,children:"CEAZOR THE BLACKSMITH"})}),(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:2===x,children:". MY WORKSHOP IS OPEN FOR BUSINESS. YOU CAN NOW "}),(0,y.jsx)("span",{className:"text-tag-info",children:(0,y.jsx)(p.Z,{onDone:function(){return m((function(e){return e+1}))},shouldStart:3===x,children:"CRAFT AN ITEM"})}),(0,y.jsx)(p.Z,{onDone:function(){m((function(e){return e+1})),f(!0)},shouldStart:4===x,children:" IF YOU HAVE THE SKILL AND MATERIALS TO PULL IT OFF. DON'T WORRY I WILL HELP YOU OUT.  ALSO, IF YOU FOUND SOME ITEMS IN THE FOREST,  I CAN STILL UPGRADE THEM FOR XP. OR RESTORE THE ONES FROM THE OLD FOREST."})]})}()},l)}var he=function(e){var t,n,s,d,p,m=e.rarities,g=e.router,N=(0,f.ZP)(),j=N.provider,E=N.chainID,w=(0,b.ZP)().currentAdventurer,T=(0,o.useState)(0),S=T[0],A=T[1],R=(0,o.useState)(!1),C=R[0],I=R[1],D=(0,o.useState)({approvedGold:!1,approvedCraftingMaterials:!1}),L=D[0],F=D[1],M=Object.values(m);function H(){return U.apply(this,arguments)}function U(){return(U=(0,r.Z)(i().mark((function e(){var t,n,r,s,o,l,d,x,p,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new u.CH(de.env.RARITY_ADDR,ie.Z),n=new u.CH(de.env.RARITY_GOLD_ADDR,oe.Z),r=new u.CH(de.env.DUNGEON_THE_CELLAR_ADDR,ce.Z),s=[t.getApproved(null===w||void 0===w?void 0:w.tokenID),n.allowance(null===w||void 0===w?void 0:w.tokenID,"1758709"),r.allowance(null===w||void 0===w?void 0:w.tokenID,"1758709")],e.next=6,ue(j,1337===Number(E));case 6:return o=e.sent,e.next=9,o.all(s);case 9:return l=e.sent,d=(0,a.Z)(l,3),x=d[0],p=d[1],m=d[2],F({approvedAdventurer:x===de.env.RARITY_CRAFTING_ADDR,approvedGold:!c.O$.from(p).isZero(),approvedCraftingMaterials:!c.O$.from(m).isZero()}),e.abrupt("return",l);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return(Y=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,k.s8)({provider:j,contractAddress:de.env.RARITY_GOLD_ADDR,spender:"1758709",adventurerID:w.tokenID,amount:l.Bz,name:"gold"},(function(e){e.error||H()}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return(Z=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,k.s8)({provider:j,contractAddress:de.env.DUNGEON_THE_CELLAR_ADDR,spender:"1758709",adventurerID:w.tokenID,amount:l.Bz,name:"Rat Skins"},(function(e){e.error||H()}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,o.useEffect)((function(){H()}),[null===w||void 0===w?void 0:w.tokenID]),(0,y.jsxs)("section",{className:"max-w-full",children:[(0,y.jsxs)("div",{className:"max-w-screen-lg w-full mx-auto",children:[(0,y.jsxs)("div",{className:"flex flex-col md:flex-row items-center mb-8 md:mb-8",children:[(0,y.jsx)("div",{className:"w-auto md:w-64 mr-0 md:mr-8",style:{minWidth:256},children:(0,y.jsx)(x.default,{src:"/avatar/ceazor.gif",loading:"eager",quality:100,width:256,height:256})}),(0,y.jsx)(h.Z,{className:"p-4",children:(0,y.jsx)(me,{router:g,approveStatus:L,currentAdventurer:w,adventurerCanCraft:(null===w||void 0===w||null===(t=w.skills)||void 0===t?void 0:t[5])>0,adventurerHasXp:(null===w||void 0===w?void 0:w.xp)>=250})})]}),(0,y.jsx)(pe,{router:g,set_category:A,adventurersCount:M.length,approveStatus:L,adventurer:m,approveCraftingMaterials:function(){return Z.apply(this,arguments)},approveGold:function(){return Y.apply(this,arguments)},adventurerCanCraft:(null===w||void 0===w||null===(n=w.skills)||void 0===n?void 0:n[5])>0,adventurerHasXp:(null===w||void 0===w?void 0:w.xp)>=250,openModalSkills:function(){return I(!0)}}),(0,y.jsx)(se,{category:S,set_category:A,approveStatus:L,shouldDisplay:"workshop"===(null===g||void 0===g||null===(s=g.query)||void 0===s?void 0:s.tab)&&L.approvedGold&&L.approvedCraftingMaterials}),(0,le.c1)(le.Tc.FOREST)&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(O,{shouldDisplay:"upgrade"===(null===g||void 0===g||null===(d=g.query)||void 0===d?void 0:d.tab),router:g,adventurers:m,adventurersCount:M.length}),(0,y.jsx)(_,{shouldDisplay:"restore"===(null===g||void 0===g||null===(p=g.query)||void 0===p?void 0:p.tab),router:g,adventurers:Object.values(m),adventurersCount:M.length})]})]}),C&&(0,y.jsx)(v.Z,{adventurer:w,isOpen:C,closeModal:function(){return I(!1)}})]})}},61689:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/town/blacksmith",function(){return n(21263)}])}},function(e){e.O(0,[722,146,774,888,179],(function(){return t=61689,e(e.s=t);var t}));var t=e.O();_N_E=t}]);